export class BaseLoader {
    constructor(syntaxErrorDetailsExtractor) {
        this.syntaxErrorDetailsExtractor = syntaxErrorDetailsExtractor;
    }
    load(source) {
        this.source = source;
        this.error = undefined;
        try {
            return this.parse();
        }
        catch (e) {
            if (e instanceof Error) {
                this.error = e;
            }
            throw e;
        }
    }
    getSyntaxErrorDetails() {
        return (this.error &&
            (this.isSupportedError(this.error)
                ? this.syntaxErrorDetailsExtractor.extract(this.error, this.source)
                : { message: this.error.message }));
    }
}
//# sourceMappingURL=BaseLoader.js.map